import React from "react";
import styles from "./index.module.scss";

const LibbySvg = () => (
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024">
    <title>Libby</title>
    <g className="mascot-symbol" fill="none" fillRule="evenodd">
      <path className="field" fill="#631A35" d="M0 0h1024v1024H0z"></path>
      <g className="libby" transform="translate(176 140)">
        <path
          className="bob"
          fill="#A61C49"
          d="M102.774084 639.955556C39.5954783 589.033715.35555556 512.592257.35555556 412.903215c0-195.085066 150.27313644-336.1476594 336.14765944-336.1476594 184.868093 0 335.141229 141.0508744 335.141229 336.1476594 0 99.692227-39.237715 176.132058-102.278916 227.052341H102.774084z"
        ></path>
        <circle
          className="face"
          cx="336"
          cy="410.4"
          r="301.511111"
          fill="#FFEEAA"
        ></circle>
        <path
          className="ribbon"
          fill="#29CFC3"
          d="M576.577778.8s-55.699561 27.2560909-67.854824 27.2560909C496.567691 28.0560909 440.044444.8 440.044444.8v71.3863555c51.510478 15.0494556 98.043397 42.9743705 136.533334 77.9469775V.8z"
        ></path>
        <path
          className="right-hair"
          fill="#A61C49"
          d="M496.541742 355.218377c39.715368-49.471221 70.43069-106.476743 89.661807-168.532407 53.113158 59.452395 85.440895 138.005419 85.440895 224.217245 0 34.454905-5.219868 67.708125-14.910713 99.010767L496.541742 355.218377z"
        ></path>
        <path
          className="left-hair"
          fill="#A61C49"
          d="M22.8771373 531.741118C8.33001652 494.240385.35555556 453.489716.35555556 410.903215c0-185.874523 150.27313644-336.1476594 336.14765944-336.1476594 93.250019 0 177.697928 38.2344884 238.497631 99.9865304-64.492686 208.969225-259.16976 360.81347-489.3119571 360.81347-21.2649447 0-42.2271022-1.296386-62.8117516-3.814438z"
        ></path>
        <path
          className="smile"
          fill="#631A35"
          d="M337.555882 636.444444c31.792688 0 65.508184-24.578903 57.307307-41.750517-4.353455-8.853154-28.279872 11.259499-57.307307 11.597366-27.640268-.213934-51.318608-18.607195-56.16116-11.597366-11.942657 16.785547 25.357338 41.750517 56.16116 41.750517z"
        ></path>
        <path
          className="eye-open"
          fill="#631A35"
          d="M425.65447 480.857942c-.805048-3.242227-1.232248-6.633347-1.232248-10.124089 0-23.159427 18.804041-41.933853 42-41.933853 23.19596 0 42 18.774426 42 41.933853 0 16.005671-8.981384 29.916931-22.186793 36.983912-4.536068-18.268423-21.06804-31.809765-40.767752-31.809765-7.165041 0-13.911031 1.791345-19.813207 4.949942z"
        ></path>
      </g>
      <g className="book" transform="translate(93 741)">
        <path
          className="pages-outline"
          fill="#631A35"
          d="M38 84.9926853c0-55.2249021 44.2136639-92.8910575 98.630414-83.50691691 0 0 194.385572 27.98979521 260.369586 65.51338631 10.794501.0792849 32.675832.0792849 44 0C507.613054 29.1825713 695.424934 1.78189528 695.424934 1.78189528 749.86644-7.48695642 794 29.7782087 794 84.9926853V568H38V84.9926853z"
        ></path>
        <path
          className="pages"
          fill="#FFFFFF"
          d="M38 70.3221573c0-34.419577 27.5598944-57.9623071 61.5137031-52.3210493 0 0 231.5022829 34.4097411 297.4862969 71.998892 10.794501-.0499917 32.675832-.0499917 44 0 66.613054-37.8816467 291.529368-71.8271166 291.529368-71.8271166C766.478661 12.5545551 794 35.9021463 794 70.3221573V568H38V70.3221573z"
        ></path>
        <path
          className="back-cover"
          fill="#29CFC3"
          d="M419 568V114L52 47C23.0931158 41.5448528.50042955 61.4594029 1 91L0 568h419z"
        ></path>
        <path
          className="front-cover"
          fill="#23B0A7"
          d="M419 568V113l367-67c29.291609-5.4519386 53 14.448269 53 44v478H419z"
        ></path>
        <path className="spine" fill="#26BFB5" d="M473 568V104H364v464z"></path>
      </g>
    </g>
  </svg>
);

const Libby = ({ libbyData }) => (
  <div className={styles["libby-embed"]}>
    <a href={process.env.LIBBY_URL?.replace(".json", ".html")} target="_blank">
      <div>Books Read in {libbyData.tag.name}</div>
      <LibbySvg />
    </a>
    <ul>
      {libbyData.titles.map(({ cover, title, author }) => (
        <li key={title.titleId}>
          <a href={title.url} target="_blank">
            <img src={cover.url} alt={cover.title} />
            <div>
              <div>{title.text}</div>
              <small>{author}</small>
            </div>
          </a>
        </li>
      ))}
    </ul>
  </div>
);

export default Libby;
